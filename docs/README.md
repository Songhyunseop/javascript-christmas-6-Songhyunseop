# 미션 - 크리스마스 프로모션

<br><br>

## 목차

1. [소개](#1-소개)

2. [설치법](#2-설치법)

3. [적용하고자 한 것](#3-적용하고자-한-것)

4. [기능 목록](#4-기능-목록)

5. [파일 구조](#5-파일-구조)

<br><br><br><br><br>

<h2 id="1-소개">소개</h2>
<br>

- 크리스마스를 기념하여 12월 한달 동안 진행하는 이벤트 적용 내역을 알려드립니다.<br>

- 예약일과 주문메뉴를 선택하면 이번 프로모션의 이벤트 정책에 맞춰 적용받게 되는 모든 혜택과 할인내역을 제공합니다.<br>

- 각 이벤트 적용 대상은 아래와 같습니다.<br>
  **크리스마스 디데이 할인** : 12.01-12.25 간 진행, 1일 1000원으로 시작, 매일 100원씩 추가할인<br>
  **평일할인(일-목요일)** : 디저트 메뉴 1개당 2,023원 할인<br>
  **주말할인(금,토요일)** : 메인 메뉴 1개당 2,023원 할인<br>
  **특별할인(3,10,17,24,25,31일)** : 해당 날짜 예약 시 총 주문금액에서 1000원 할인<br>
  **증정 이벤트** : 총 주문금액 12만원 이상일 시 샴페인 1병 증정<br>

- 제공받는 혜택금액에 따라 등급 뱃지를 제공해 드립니다. 뱃지는 2024년 새해 이벤트에 활용될 예정입니다.

- 뱃지 등급<br> -**혜택금액 5,000원 이상** : 별<br> -**혜택금액 10,000원 이상** : 트리<br> -**혜택금액 20,000원 이상** : 산타

<br><br><br><br><br>

<h2 id="2-설치법">설치법</h2>
<br>

- 아래 명령어로 로컬 경로에 폴더 복제

```
git clone https://github.com/Songhyunseop/javascript-christmas-6-Songhyunseop.git
```

<br><br>

- IDE 에서 터미널을 열고 프로젝트 폴더 위치에서 아래 명령어로 패키지 설치

```
npm install
```

<br><br><br><br><br>

<h2 id="3-적용하고자-한-것" >적용하고자 한 것</h2>
<br>

- 메서드는 15줄을 넘지 않는다
- 메서드를 최대한 분리한다 (한 메서드에 하나의 역할만 부여)
- 클래스의 단일원칙(한 클래스는 오직 하나의 책임만 져야한다) 을 준수한다
- 비즈니스 / UI 로직을 분리한다 (한 Class 에 공존하지 않는다)
- 외부에서 객체 상태 접근을 제한한다 (Private로 외부에서 데이터 변경을 방지)
- 객체로 상태를 가져와서 처리하기 보다는 객체에게 시켜서 결과를 받는다
- 값은 하드코딩하지 말고 상수화시킨다
- 추상화를 통해 큰 개념으로 나누어 클래스를 분리한다
- 매개변수로 받는 객체의 속성은 변경하지 않는다 (필요 시 그 속성을 새 변수에 재할당하여 사용한다)
- 매개변수를 재할당하지 않는다 (필요 시 그 값을 새 변수에 재할당하여 사용한다)
- this는 return으로 다시 자신을 호출할 수 있다. 이 점을 이용해 메서드체이닝을 구현해 본다
- 의존관계를 낮추기 위해 의존성 주입을 활용한다
- 매개변수를 적게 사용한다 (3개 미만으로 사용, 가급적 2개도 줄이도록 한다)
- 의존관계를 낮추기 위해 내부에서 인스턴스를 생성하는 대신 팩토리 메서드를 활용해본다
  <br><br><br><br><br>

<h2 id="4-기능-목록">기능목록</h2>

☑ 방문 날짜 입력 (ex. 3)<br>
&ensp;&ensp;✔ 1-31일의 정상적인 달력 날짜 값이 아닐 경우 날짜 입력대기 상태로 재귀<br>
&ensp;&ensp;✔ 입력이 숫자 형식이 아닐 경우 날짜 입력대기 상태로 재귀<br>
&ensp;&ensp;✔ 앞자리에 0을 붙여서 입력 시 날짜 입력대기 상태로 재귀<br>
&ensp;&ensp;✔ 빈 공백 입력 시 날짜 입력대기 상태로 재귀<br>

☑ 주문 메뉴와 각 메뉴의 개수 입력 (ex. 해산물파스타-2,레드와인-1)<br>
&ensp;&ensp;✔ 입력값이 메뉴항목에 없을 경우 날짜 입력대기 상태로 재귀<br>
&ensp;&ensp;✔ 메뉴 개수를 숫자가 아닌 다른 형식으로 입력 시 날짜 입력대기 상태로 재귀<br>
&ensp;&ensp;✔ 음료만 주문할 경우 날짜 입력대기 상태로 재귀<br>
&ensp;&ensp;✔ 주문한 메뉴항목이 중복될 경우 날짜 입력대기 상태로 재귀<br>
&ensp;&ensp;✔ 20개 이상의 메뉴를 주문할 경우 날짜 입력대기 상태로 재귀<br>

☑ 5회 이상 반복된 입력 실패 시 프로그램 종료

☑ 입력 받은 주문메뉴의 총 주문금액 계산 및 주문메뉴 리스트반환<br>
☑ 각주문된 메뉴의 코스 타입(ex. 애피타이저, 디저트) 반환<br>

☑ 주문 메뉴 리스트, 총 주문 금액 출력

☑ 이벤트 적용대상 여부 채크<br>
&ensp;&ensp;✔ 총 주문 금액이 10000원 이상 => 이벤트 적용<br>
&ensp;&ensp;✔ 총 주문 금액이 10000원 미만 => 모든 이벤트 미적용<br>
&ensp;&ensp;✔ 모든 이벤트 미적용일 경우 모든 혜택 결과는 '없음' 출력

☑ 증정품 제공 여부 체크<br>
&ensp;&ensp;✔ 총 주문 금액이 120000원 이상 => 증정품 제공<br>
&ensp;&ensp;✔ 총 주문 금액이 120000원 미만 => 증정품 미제공<br>
&ensp;&ensp;✔ 증정품 미제공일 경우 증정품 내역은 '없음' 출력

☑ 적용받는 이벤트 혜택 체크 <br>
&ensp;&ensp;☑ 크리스마스 이벤트<br>
&ensp;&ensp;&ensp;&ensp;✔ 예약일이 25일 이내면 이벤트 적용, 그 외는 미적용<br>

&ensp;&ensp;☑ 평일,주말 이벤트<br>
&ensp;&ensp;&ensp;&ensp;✔ 예약일이 평일일 경우 => Dessert 메뉴 1개당 2023원 할인<br>
&ensp;&ensp;&ensp;&ensp;✔ 예약일이 주말일 경우 => Main 메뉴 1개당 2023원 할인

&ensp;&ensp;☑ 특별 할인 이벤트<br>
&ensp;&ensp;&ensp;&ensp;✔ 스페셜 데이(3,10,17,24,25,31)에 예약할 경우 전체 주문 금액에서 1000원 할인

☑ 각 이벤트의 혜택 내역을 정리하여 계산<br>
&ensp;&ensp;✔ 이벤트 혜택이 없을 경우 => 혜택 내역에서 제외<br>
&ensp;&ensp;✔ 증정품 제공이 없을 경우 => 혜택 내역에서 제외<br>
&ensp;&ensp;✔ 적용된 이벤트가 1개도 없을 경우 => 혜택 내역에 '없음' 출력

☑ 증정품 제공 메뉴 출력<br>
☑ 적용된 모든 혜택목록 출력

☑ 총 적용된 혜택 금액을 합산<br>
&ensp;&ensp;✔ 혜택 내역이 없을 경우 기본금 0원으로 계산처리

☑ 합산된 혜택 금액에 따라 등급 뱃지 반환<br>
&ensp;&ensp;✔ 혜택금액 20000원 이상 => 산타 뱃지 증정<br>
&ensp;&ensp;✔ 혜택금액 10000원 이상 => 트리 뱃지 증정<br>
&ensp;&ensp;✔ 혜택금액 5000원 이상 => 별 뱃지 증정<br>
&ensp;&ensp;✔ 혜택금액 5000원 미만 => 뱃지 증정 없음

☑ 총 할인 금액 계산<br>
&ensp;&ensp;✔ 증정품 제공이 없을 경우 => 혜택금액 = 할인금액<br>
&ensp;&ensp;✔ 증정품 제공이 있을 경우 => 할인금액 = (혜택금액 - 증정품 가격)

☑ (총 주문 금액 - 할인금액)으로 할인 후 예상결제금액 계산

☑ 총 혜택금액 출력<br>
☑ 할인 후 예상 결제 금액 출력<br>
☑ 12월 이벤트 뱃지 출력

<br><br><br><br><br>

<h2 id="5-파일-구조">파일 구조</h2>
<br>

```
📦src
 ┣ 📂Constant
 ┃ ┣ 📜Benefit.js
 ┃ ┣ 📜Config.js
 ┃ ┣ 📜Event.js
 ┃ ┣ 📜Menu.js
 ┃ ┗ 📜Message.js
 ┣ 📂Controller
 ┃ ┣ 📜BenefitController.js
 ┃ ┣ 📜EventController.js
 ┃ ┗ 📜OrderController.js
 ┣ 📂Model
 ┃ ┣ 📜Benefit.js
 ┃ ┣ 📜EvenctChristmas.js
 ┃ ┣ 📜Event.js
 ┃ ┣ 📜EventEvery.js
 ┃ ┣ 📜EventSpecial.js
 ┃ ┗ 📜Order.js
 ┣ 📂Utils
 ┃ ┣ 📜Factory.js
 ┃ ┣ 📜ValidateDayInput.js
 ┃ ┣ 📜ValidateMenuInput.js
 ┃ ┗ 📜utils.js
 ┣ 📂View
 ┃ ┣ 📜InputView.js
 ┃ ┗ 📜OutputView.js
 ┣ 📜App.js
 ┗ 📜index.js

```
